{"version":3,"file":"DCamera.stories-960848e9.js","sources":["../../node_modules/simple-vue-camera/dist/simple-vue-camera.umd.js","../../src/d-camera/DCamera.vue"],"sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('vue')) :\n    typeof define === 'function' && define.amd ? define(['vue'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.SimpleVueCamera = factory(global.vue));\n})(this, (function (vue) { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */\r\n\r\n    function __awaiter(thisArg, _arguments, P, generator) {\r\n        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator(thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\n\n    var script = vue.defineComponent({\r\n        name: \"Camera\",\r\n        components: {},\r\n        emits: [\r\n            \"loading\",\r\n            \"started\",\r\n            \"stopped\",\r\n            \"paused\",\r\n            \"resumed\",\r\n            \"camera-change\",\r\n            \"snapshot\",\r\n            \"error\",\r\n        ],\r\n        props: {\r\n            resolution: {\r\n                type: Object,\r\n                default: function () {\r\n                    return { width: 1920, height: 1080 };\r\n                },\r\n            },\r\n            facingMode: {\r\n                type: String,\r\n                default: \"environment\",\r\n            },\r\n            autoplay: {\r\n                type: Boolean,\r\n                default: true,\r\n            },\r\n            playsinline: {\r\n                type: Boolean,\r\n                default: true,\r\n            },\r\n            constraints: {\r\n                type: Object,\r\n                required: false,\r\n            },\r\n        },\r\n        setup: function (props, _a) {\r\n            var _this = this;\r\n            var emit = _a.emit;\r\n            vue.onMounted(function () {\r\n                if (!navigator.mediaDevices)\r\n                    throw new Error(\"Media devices not available\");\r\n                var videoElement = document.getElementById(\"video\");\r\n                if (props.playsinline && videoElement) {\r\n                    videoElement.setAttribute(\"playsinline\", \"\");\r\n                }\r\n                if (props.autoplay)\r\n                    start();\r\n            });\r\n            vue.onUnmounted(function () { return stop(); });\r\n            var video = vue.ref();\r\n            var canvas = vue.ref();\r\n            var stream = vue.ref();\r\n            var constraints = props.constraints || {\r\n                video: {\r\n                    width: props.resolution.width,\r\n                    height: props.resolution.height,\r\n                    facingMode: props.facingMode,\r\n                    deviceId: {},\r\n                },\r\n                audio: false,\r\n            };\r\n            var devices = function (kinds) {\r\n                if (kinds === void 0) { kinds = [\"audioinput\", \"videoinput\"]; }\r\n                return __awaiter(_this, void 0, void 0, function () {\r\n                    var devices;\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0: return [4 /*yield*/, navigator.mediaDevices.enumerateDevices()];\r\n                            case 1:\r\n                                devices = _a.sent();\r\n                                return [2 /*return*/, devices.filter(function (device) { return kinds.includes(device.kind); })];\r\n                        }\r\n                    });\r\n                });\r\n            };\r\n            var currentDeviceID = function () {\r\n                if (!stream.value)\r\n                    return;\r\n                var tracks = stream.value\r\n                    .getVideoTracks()\r\n                    .map(function (track) { return track.getSettings().deviceId; });\r\n                if (tracks.length > 0)\r\n                    return tracks[0];\r\n            };\r\n            var start = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var _a, err_1;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            emit(\"loading\");\r\n                            _b.label = 1;\r\n                        case 1:\r\n                            _b.trys.push([1, 3, , 4]);\r\n                            _a = stream;\r\n                            return [4 /*yield*/, navigator.mediaDevices.getUserMedia(constraints)];\r\n                        case 2:\r\n                            _a.value = _b.sent();\r\n                            if (!video.value)\r\n                                throw new Error(\"Video ref is null\");\r\n                            video.value.srcObject = stream.value;\r\n                            emit(\"started\");\r\n                            return [3 /*break*/, 4];\r\n                        case 3:\r\n                            err_1 = _b.sent();\r\n                            emit(\"error\", err_1);\r\n                            return [3 /*break*/, 4];\r\n                        case 4: return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); };\r\n            var snapshot = function (resolution, type, quality) {\r\n                var _a;\r\n                if (resolution === void 0) { resolution = props.resolution; }\r\n                if (type === void 0) { type = \"image/png\"; }\r\n                if (!video.value)\r\n                    throw new Error(\"Video ref is null\");\r\n                if (!canvas.value)\r\n                    throw new Error(\"Canvas ref is null\");\r\n                var width = resolution.width, height = resolution.height;\r\n                canvas.value.width = width;\r\n                canvas.value.height = height;\r\n                (_a = canvas.value\r\n                    .getContext(\"2d\")) === null || _a === void 0 ? void 0 : _a.drawImage(video.value, 0, 0, width, height);\r\n                return new Promise(function (resolve) {\r\n                    var _a;\r\n                    (_a = canvas.value) === null || _a === void 0 ? void 0 : _a.toBlob(function (blob) {\r\n                        emit(\"snapshot\", blob);\r\n                        resolve(blob);\r\n                    }, type, quality);\r\n                });\r\n            };\r\n            var changeCamera = function (deviceID) { return __awaiter(_this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            stop();\r\n                            constraints.video.deviceId.exact = deviceID;\r\n                            return [4 /*yield*/, start()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            emit(\"camera-change\", deviceID);\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); };\r\n            var resume = function () {\r\n                var _a;\r\n                (_a = video.value) === null || _a === void 0 ? void 0 : _a.play();\r\n                emit(\"resumed\");\r\n            };\r\n            var pause = function () {\r\n                var _a;\r\n                (_a = video.value) === null || _a === void 0 ? void 0 : _a.pause();\r\n                emit(\"paused\");\r\n            };\r\n            var stop = function () {\r\n                var _a;\r\n                (_a = stream.value) === null || _a === void 0 ? void 0 : _a.getTracks().forEach(function (track) { return track.stop(); });\r\n                emit(\"stopped\");\r\n            };\r\n            return {\r\n                start: start,\r\n                stop: stop,\r\n                video: video,\r\n                snapshot: snapshot,\r\n                canvas: canvas,\r\n                devices: devices,\r\n                currentDeviceID: currentDeviceID,\r\n                pause: pause,\r\n                resume: resume,\r\n                changeCamera: changeCamera,\r\n                stream: stream,\r\n            };\r\n        },\r\n    });\n\n    const _hoisted_1 = { id: \"camera-container\" };\n    const _hoisted_2 = {\n      autoplay: \"\",\n      ref: \"video\",\n      id: \"video\"\n    };\n    const _hoisted_3 = { id: \"slot-container\" };\n    const _hoisted_4 = {\n      ref: \"canvas\",\n      id: \"canvas\"\n    };\n\n    function render(_ctx, _cache, $props, $setup, $data, $options) {\n      return (vue.openBlock(), vue.createElementBlock(vue.Fragment, null, [\n        vue.createElementVNode(\"div\", _hoisted_1, [\n          vue.createElementVNode(\"video\", _hoisted_2, null, 512 /* NEED_PATCH */),\n          vue.createElementVNode(\"div\", _hoisted_3, [\n            vue.renderSlot(_ctx.$slots, \"default\")\n          ])\n        ]),\n        vue.createElementVNode(\"canvas\", _hoisted_4, null, 512 /* NEED_PATCH */)\n      ], 64 /* STABLE_FRAGMENT */))\n    }\n\n    function styleInject(css, ref) {\n      if ( ref === void 0 ) ref = {};\n      var insertAt = ref.insertAt;\n\n      if (!css || typeof document === 'undefined') { return; }\n\n      var head = document.head || document.getElementsByTagName('head')[0];\n      var style = document.createElement('style');\n      style.type = 'text/css';\n\n      if (insertAt === 'top') {\n        if (head.firstChild) {\n          head.insertBefore(style, head.firstChild);\n        } else {\n          head.appendChild(style);\n        }\n      } else {\n        head.appendChild(style);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(document.createTextNode(css));\n      }\n    }\n\n    var css_248z = \"\\n#camera-container[data-v-74104ed5] {\\n    position: relative;\\n    width: 100%;\\n    height: 100%;\\n}\\n#slot-container[data-v-74104ed5] {\\n    position: absolute;\\n    height: 100%;\\n    width: 100%;\\n    left: 0;\\n    top: 0;\\n}\\n#video[data-v-74104ed5] {\\n    width: 100%;\\n    height: 100%;\\n}\\n#canvas[data-v-74104ed5] {\\n    display: none;\\n}\\n\";\n    styleInject(css_248z);\n\n    script.render = render;\n    script.__scopeId = \"data-v-74104ed5\";\n    script.__file = \"src/components/Camera.vue\";\n\n    return script;\n\n}));\n","<template>\n  <d-box>\n    <d-box v-if=\"currentSnapshot\">\n      <d-box\n        is=\"img\"\n        width=\"100%\"\n        height=\"auto\"\n        :src=\"currentSnapshot\"\n        alt=\"Current Snapshot\"\n      />\n      <slot name=\"preview\"></slot>\n    </d-box>\n    <d-box v-else>\n      <v-camera\n        class=\"camera-view\"\n        ref=\"camera\"\n        autoplay\n        @started=\"startCameraFeed\"\n        @stopped=\"stopCameraFeed\"\n        :resolution=\"{ height: 1920, width: 1080 }\"\n      >\n        <camera-frame v-if=\"showFocusFrame && cameraFeedShowing\" />\n        <slot name=\"in-camera\"></slot>\n      </v-camera>\n      <d-text margin-y=\"1rem\" center font-face=\"circularSTD\" scale=\"subhead\">{{\n        caption\n      }}</d-text>\n      <d-auto-layout class=\"responsive-auto-layout\" alignment=\"center\">\n        <d-button @click=\"switchCamera\" min-width=\"192px\" responsive size=\"huge\"\n          >Switch camera</d-button\n        >\n        <d-button\n          @click=\"snapshot\"\n          color-scheme=\"primary\"\n          min-width=\"192px\"\n          size=\"huge\"\n          responsive\n        >\n          Capture\n        </d-button>\n      </d-auto-layout>\n      <slot name=\"camera-actions\"></slot>\n    </d-box>\n  </d-box>\n</template>\n\n<script>\nimport { DBox, DButton, DAutoLayout, DText } from \"../main\";\nimport CameraFrame from \"./CameraFrame.vue\";\nimport VCamera from \"simple-vue-camera\";\nimport { ref, nextTick } from \"vue\";\n\nexport default {\n  name: \"CameraWrapper\",\n  emits: [\"snapped\"],\n  components: {\n    DBox,\n    DButton,\n    DAutoLayout,\n    DText,\n    CameraFrame,\n    VCamera,\n  },\n  props: {\n    caption: {\n      type: String,\n    },\n    showFocusFrame: {\n      type: Boolean,\n    },\n  },\n  setup(props, { emit }) {\n    const camera = ref(null);\n    const currentCamera = ref(0);\n    const currentSnapshot = ref(null);\n    const devices = ref(null);\n    const mounted = ref(false);\n    const cameraFeedShowing = ref(false);\n\n    const startCameraFeed = () => (cameraFeedShowing.value = true);\n    const stopCameraFeed = () => (cameraFeedShowing.value = false);\n\n    const switchCamera = async () => {\n      devices.value = await camera.value?.devices([\"videoinput\"]);\n      const currentDeviceID = await camera.value.currentDeviceID();\n      if (!mounted.value && currentDeviceID !== devices.value[0].deviceId) {\n        await camera.value.changeCamera(devices.value[0].deviceId);\n        mounted.value = true;\n        return;\n      }\n      await nextTick();\n      if (devices.value) {\n        if (devices.value.length >= 2) {\n          let newValue = currentCamera.value + 1;\n          if (newValue > devices.value.length - 1) {\n            newValue = 0;\n          }\n          currentCamera.value = newValue;\n          await nextTick();\n          const device = devices.value[currentCamera.value];\n          camera.value?.changeCamera(device.deviceId);\n        }\n      }\n      mounted.value = true;\n    };\n\n    const snapshot = async () => {\n      const blob = await camera.value.snapshot({ width: 1920, height: 1080 });\n\n      currentSnapshot.value = URL.createObjectURL(blob);\n      emit(\"snapped\", {\n        image: currentSnapshot.value,\n        blob,\n        file: new File([blob], \"name\"),\n      });\n    };\n\n    const retakePicture = async () => {\n      currentSnapshot.value = null;\n    };\n\n    return {\n      currentSnapshot,\n      retakePicture,\n      snapshot,\n      startCameraFeed,\n      stopCameraFeed,\n      switchCamera,\n      camera,\n      currentCamera,\n      devices,\n      mounted,\n      cameraFeedShowing,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.camera-view {\n  width: 100%;\n}\n</style>\n\n<style lang=\"scss\">\n#camera-container {\n  video {\n    //aspect-ratio: 16 / 9;\n  }\n}\n</style>\n"],"names":["global","factory","module","require$$0","this","vue","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","reject","fulfilled","step","e","rejected","result","__generator","body","_","t","f","y","g","verb","n","v","op","script","props","_a","_this","emit","videoElement","start","stop","video","canvas","stream","constraints","devices","kinds","device","currentDeviceID","tracks","track","err_1","_b","snapshot","resolution","type","quality","width","height","blob","changeCamera","deviceID","resume","pause","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","render","_ctx","_cache","$props","$setup","$data","$options","styleInject","css","ref","insertAt","head","style","css_248z","_sfc_main","DBox","DButton","DAutoLayout","DText","CameraFrame","VCamera","camera","currentCamera","currentSnapshot","mounted","cameraFeedShowing","nextTick","newValue","_createBlock","_component_d_box","_createVNode","_renderSlot","_component_v_camera","_component_camera_frame","_component_d_text","_component_d_auto_layout","_component_d_button"],"mappings":"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","x_google_ignoreList":[0]}