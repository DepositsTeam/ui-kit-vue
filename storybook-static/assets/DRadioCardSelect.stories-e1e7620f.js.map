{"version":3,"file":"DRadioCardSelect.stories-e1e7620f.js","sources":["../../src/d-radio-card-select/DRadioCardSelect.vue"],"sourcesContent":["<script setup>\nimport {\n  DBox,\n  DText,\n  DAutoLayout,\n  DRadio,\n  ChevronFilledDownIcon,\n} from \"../main\";\nimport { useDropdown } from \"../utils/composables/useDropdown\";\nimport { computed, onBeforeMount, onMounted, ref } from \"vue\";\nimport inputProps from \"../utils/inputProps\";\n\nconst props = defineProps({\n  ...inputProps,\n  label: {\n    type: String,\n  },\n  labelClass: {\n    type: String,\n  },\n  labelFontFace: {\n    type: String,\n    default: \"heroNew\",\n  },\n  modelValue: {\n    default: false,\n  },\n  value: {\n    default: false,\n  },\n  options: {\n    type: Array,\n    default: () => [\n      {\n        title: \"Wells Fargo\",\n        description: \"Checking **7698\",\n        otherValue: \"othervalue\",\n        icon: \"https://assets.ondeposits.com/img/ui-kit-demo/payment-methods/wells-fargo.png\",\n      },\n      {\n        title: \"Bank of America\",\n        description: \"Checking **1243\",\n        otherValue: \"othervalue\",\n        icon: \"https://assets.ondeposits.com/img/ui-kit-demo/payment-methods/bank-of-america.png\",\n      },\n      {\n        title: \"Citibank\",\n        description: \"Checking **8350\",\n        otherValue: \"othervalue\",\n        icon: \"https://assets.ondeposits.com/img/ui-kit-demo/payment-methods/citi-bank.png\",\n      },\n    ],\n  },\n  optionTitle: {\n    type: String,\n    default: \"title\",\n  },\n  optionDescription: {\n    type: String,\n    default: \"description\",\n  },\n  optionIcon: {\n    type: String,\n    default: \"icon\",\n  },\n  optionValue: {\n    type: String,\n    default: \"value\",\n  },\n  returnFullObject: {\n    type: Boolean,\n    default: false,\n  },\n  changeButtonText: {\n    type: String,\n    default: \"Change\",\n  },\n  radioValue: {\n    default: false,\n  },\n  borderedIcon: {\n    type: Boolean,\n  },\n});\n\nconst { computedOptions } = useDropdown(props);\n\nconst emit = defineEmits([\"update:radioValue\", \"update:modelValue\"]);\n\nconst mounted = ref(false);\n\nonMounted(() => {\n  mounted.value = true;\n});\n\nconst isChecked = computed(() => {\n  if (mounted.value) {\n    return props.radioValue === props.value;\n  }\n  return false;\n});\n\nconst showOptions = ref(false);\n\nconst triggerDropdown = () => {\n  showOptions.value = !showOptions.value;\n};\n\nconst selectedOption = ref(null);\n\nconst selectOption = (option) => {\n  selectedOption.value = option;\n  showOptions.value = false;\n  emit(\"update:modelValue\", selectedOption.value.originalOption);\n  // Emit this value\n};\n\nonBeforeMount(() => {\n  if (props.modelValue) {\n    let selected;\n    if (typeof props.modelValue === \"string\") {\n      selected = computedOptions.value.find(\n        (option) => option.value === props.modelValue\n      );\n    } else {\n      let value = props.modelValue[props.optionValue]\n        ? props.modelValue[props.optionValue]\n        : props.modelValue[props.optionTitle];\n      selected = computedOptions.value.find((option) => {\n        return option.value === value;\n      });\n    }\n    if (!selected) {\n      selected = computedOptions.value[0];\n    }\n    selectedOption.value = selected;\n    emit(\"update:modelValue\", selected.originalOption);\n  } else {\n    selectedOption.value = computedOptions.value[0];\n    emit(\"update:modelValue\", selectedOption.value.originalOption);\n    // TODO Emit this value\n  }\n});\n\nconst handleChange = () => {\n  emit(\"update:radioValue\", props.value);\n};\n</script>\n\n<template>\n  <d-box class=\"d-radio-card-select__wrapper\">\n    <d-text\n      v-if=\"label\"\n      margin-top=\"0px\"\n      class=\"ui-text-field__label\"\n      :class=\"labelClass\"\n      scale=\"subhead\"\n      :font-face=\"labelFontFace\"\n    >\n      {{ label }}\n    </d-text>\n    <d-box class=\"d-radio-card-select\" cursor=\"pointer\">\n      <d-auto-layout align-items=\"center\" justify-content=\"space-between\">\n        <d-auto-layout>\n          <d-box\n            is=\"img\"\n            v-if=\"selectedOption.icon\"\n            :src=\"selectedOption.icon\"\n            :alt=\"selectedOption.text\"\n          />\n\n          <d-auto-layout direction=\"vertical\" item-spacing=\"2px\">\n            <d-text my0 scale=\"subhead\" font-weight=\"600\" font-face=\"heroNew\">{{\n              selectedOption.text\n            }}</d-text>\n            <d-text my0 font-size=\"12px\" color=\"#8C97A7\">{{\n              selectedOption.description\n            }}</d-text>\n          </d-auto-layout>\n        </d-auto-layout>\n        <d-auto-layout align-items=\"center\">\n          <d-box\n            class=\"d-radio-card-select__change-button\"\n            v-if=\"computedOptions.length > 1\"\n            @click=\"triggerDropdown\"\n          >\n            <d-text color=\"#6D7786\" my0 font-size=\"12px\" font-face=\"heroNew\">{{\n              changeButtonText\n            }}</d-text>\n            <chevron-filled-down-icon smart-color=\"#6D7786\" />\n          </d-box>\n          <d-box @click=\"handleChange\">\n            <d-radio\n              ringed\n              ring-size=\"24px\"\n              :checked=\"isChecked\"\n              ring-thickness=\"8px\"\n            />\n          </d-box>\n        </d-auto-layout>\n      </d-auto-layout>\n      <d-box class=\"d-radio-card-select__options\" v-if=\"showOptions\">\n        <d-box\n          class=\"d-radio-card-select__option\"\n          v-for=\"option in computedOptions\"\n          :key=\"option.unique_identifier_for_dropdown\"\n          @click=\"selectOption(option)\"\n        >\n          <d-auto-layout justify-content=\"space-between\">\n            <d-auto-layout>\n              <d-box\n                is=\"img\"\n                v-if=\"option.icon\"\n                :src=\"option.icon\"\n                :alt=\"option.text\"\n              />\n              <d-auto-layout direction=\"vertical\" item-spacing=\"2px\">\n                <d-text\n                  my0\n                  scale=\"subhead\"\n                  font-weight=\"600\"\n                  font-face=\"heroNew\"\n                  >{{ option.text }}</d-text\n                >\n                <d-text my0 font-size=\"12px\" color=\"#8C97A7\">{{\n                  option.description\n                }}</d-text>\n              </d-auto-layout>\n            </d-auto-layout>\n            <d-auto-layout>\n              <d-radio\n                :checked=\"isChecked\"\n                ringed\n                ring-size=\"24px\"\n                ring-thickness=\"8px\"\n              />\n            </d-auto-layout>\n          </d-auto-layout>\n        </d-box>\n      </d-box>\n    </d-box>\n  </d-box>\n</template>\n\n<style scoped lang=\"scss\">\n.d-radio-card-select__wrapper {\n  .d-radio-card-select {\n    border: 1px solid #ced6de;\n    padding: 14px 16px;\n    border-radius: 8px;\n    box-shadow: 0 1px 2px rgba(63, 63, 68, 0.1);\n    position: relative;\n    .d-radio-card-select__options {\n      position: absolute;\n      top: calc(100% + 4px);\n      left: 0;\n      width: 100%;\n      padding: 14px 16px;\n      border: 0.5px solid #f5f8fa;\n      box-shadow: 0 6px 14px rgba(10, 52, 64, 0.12);\n      display: flex;\n      flex-direction: column;\n      gap: 16px;\n      z-index: 9;\n      background: white;\n    }\n    .d-radio-card-select__change-button {\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      background: #f4f6f8;\n      padding: 7px 16px;\n      border-radius: 30px;\n    }\n  }\n}\n</style>\n"],"names":["computedOptions","useDropdown","props","mounted","ref","onMounted","isChecked","computed","showOptions","triggerDropdown","selectedOption","selectOption","option","emit","onBeforeMount","selected","value","handleChange"],"mappings":"m3CAqFM,CAAE,gBAAAA,CAAiB,EAAGC,GAAYC,CAAK,EAIvCC,EAAUC,EAAI,EAAK,EAEzBC,EAAU,IAAM,CACdF,EAAQ,MAAQ,EAClB,CAAC,EAED,MAAMG,EAAYC,EAAS,IACrBJ,EAAQ,MACHD,EAAM,aAAeA,EAAM,MAE7B,EACR,EAEKM,EAAcJ,EAAI,EAAK,EAEvBK,EAAkB,IAAM,CAC5BD,EAAY,MAAQ,CAACA,EAAY,KACnC,EAEME,EAAiBN,EAAI,IAAI,EAEzBO,EAAgBC,GAAW,CAC/BF,EAAe,MAAQE,EACvBJ,EAAY,MAAQ,GACpBK,EAAK,oBAAqBH,EAAe,MAAM,cAAc,CAE/D,EAEAI,EAAc,IAAM,CAClB,GAAIZ,EAAM,WAAY,CACpB,IAAIa,EACJ,GAAI,OAAOb,EAAM,YAAe,SAC9Ba,EAAWf,EAAgB,MAAM,KAC9BY,GAAWA,EAAO,QAAUV,EAAM,UAC3C,MACW,CACL,IAAIc,EAAQd,EAAM,WAAWA,EAAM,WAAW,EAC1CA,EAAM,WAAWA,EAAM,WAAW,EAClCA,EAAM,WAAWA,EAAM,WAAW,EACtCa,EAAWf,EAAgB,MAAM,KAAMY,GAC9BA,EAAO,QAAUI,CACzB,CACF,CACID,IACHA,EAAWf,EAAgB,MAAM,CAAC,GAEpCU,EAAe,MAAQK,EACvBF,EAAK,oBAAqBE,EAAS,cAAc,CACrD,MACIL,EAAe,MAAQV,EAAgB,MAAM,CAAC,EAC9Ca,EAAK,oBAAqBH,EAAe,MAAM,cAAc,CAGjE,CAAC,EAED,MAAMO,EAAe,IAAM,CACzBJ,EAAK,oBAAqBX,EAAM,KAAK,CACvC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}