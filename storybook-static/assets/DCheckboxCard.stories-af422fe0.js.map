{"version":3,"file":"DCheckboxCard.stories-af422fe0.js","sources":["../../src/utils/composables/useCheckbox.js","../../src/d-checkbox-card/DCheckboxCard.vue"],"sourcesContent":["import { computed } from \"vue\";\n\nexport const useCheckbox = (props, emit) => {\n  const computedValue = computed(() =>\n    props.value === \"\" ? props.label : props.value\n  );\n\n  const computedTrueValue = computed(() => {\n    if (props.value) {\n      return props.value;\n    } else {\n      return props.trueValue === true ? true : this.value;\n    }\n  });\n\n  const computedFalseValue = computed(() => {\n    return props.falseValue === false ? false : props.falseValue;\n  });\n\n  const isChecked = computed(() => {\n    if (props.modelValue instanceof Array) {\n      if (props.values.length) {\n        return props.values.every((element) => {\n          return props.modelValue.includes(element);\n        });\n      }\n      return props.modelValue.includes(computedValue.value);\n    }\n    return props.modelValue === computedTrueValue.value;\n  });\n\n  const triggerChange = () => {\n    if (props.disabled) {\n      return;\n    }\n    if (props.values.length) {\n      let modelValue = [...props.modelValue];\n      if (isChecked.value) {\n        props.values.forEach((value) => {\n          if (modelValue.includes(value)) {\n            modelValue.splice(modelValue.indexOf(value), 1);\n          }\n        });\n      } else {\n        props.values.forEach((value) => {\n          if (!modelValue.includes(value)) {\n            modelValue.push(value);\n          }\n        });\n      }\n      emit(\"update:modelValue\", modelValue);\n    } else {\n      if (props.modelValue instanceof Array) {\n        let modelValue = [...props.modelValue];\n        if (isChecked.value) {\n          modelValue.splice(modelValue.indexOf(computedValue.value), 1);\n        } else {\n          modelValue.push(computedValue.value);\n        }\n        emit(\"update:modelValue\", modelValue);\n      } else {\n        emit(\n          \"update:modelValue\",\n          !isChecked.value ? computedTrueValue.value : computedFalseValue.value\n        );\n      }\n    }\n  };\n\n  return { isChecked, triggerChange };\n};\n","<template>\n  <d-box class=\"d-checkbox-card__wrapper\">\n    <d-text\n      v-if=\"label\"\n      margin-top=\"0px\"\n      class=\"ui-text-field__label\"\n      :class=\"labelClass\"\n      scale=\"subhead\"\n      :font-face=\"labelFontFace\"\n    >\n      {{ label }}\n    </d-text>\n    <d-box @click=\"handleClick\" class=\"d-checkbox-card\">\n      <d-auto-layout justify-content=\"space-between\" align-items=\"center\">\n        <d-auto-layout gap=\"16px\">\n          <d-box\n            align-self=\"center\"\n            v-if=\"$slots.icon\"\n            class=\"d-checkbox-card__icon\"\n          >\n            <slot name=\"icon\"></slot>\n          </d-box>\n          <d-box class=\"d-checkbox-card__content\">\n            <slot name=\"heading\">\n              <d-heading my0>{{ heading }}</d-heading>\n            </slot>\n            <slot name=\"description\">\n              <d-text scale=\"subhead\" light-color=\"#8C97A7\" my0>{{\n                description\n              }}</d-text>\n            </slot>\n          </d-box>\n        </d-auto-layout>\n\n        <d-box class=\"d-checkbox-card__checkbox\">\n          <d-checkbox :dashed=\"dashed\" size=\"18px\" :checked=\"isChecked\" />\n        </d-box>\n      </d-auto-layout>\n      <d-box\n        v-if=\"expandable && expanded\"\n        class=\"d-checkbox-card__expansion-border\"\n      ></d-box>\n\n      <d-box v-if=\"expanded\" class=\"d-checkbox-card__expanded\">\n        <slot></slot>\n      </d-box>\n    </d-box>\n  </d-box>\n</template>\n\n<script setup>\nimport { DBox, DHeading, DAutoLayout, DText, DCheckbox } from \"../main\";\nimport { ref } from \"vue\";\nimport { useCheckbox } from \"../utils/composables/useCheckbox\";\n\nconst expanded = ref(false);\n\nconst props = defineProps({\n  heading: {\n    type: String,\n  },\n  description: {\n    type: String,\n  },\n  checked: {\n    type: Boolean,\n    default: null,\n  },\n  value: {\n    type: [String, Number],\n    default: \"\",\n  },\n  modelValue: {\n    default: false,\n  },\n  trueValue: {\n    default: true,\n  },\n  falseValue: {\n    default: false,\n  },\n  values: {\n    type: Array,\n    default: () => [],\n  },\n  dashed: {\n    type: Boolean,\n  },\n  disabled: {\n    type: Boolean,\n  },\n  expandable: {\n    type: Boolean,\n  },\n  label: {\n    type: String,\n  },\n  labelClass: {\n    type: String,\n  },\n  labelFontFace: {\n    type: String,\n    default: \"heroNew\",\n  },\n});\n\nconst emit = defineEmits([\"update:modelValue\", \"click\"]);\n\nconst { isChecked, triggerChange: changed } = useCheckbox(props, emit);\n\nconst handleClick = (e) => {\n  if (!props.disabled) {\n    if (props.expandable) {\n      // Handle stuff if it's expandable\n      if (e.target.closest(\".d-checkbox-card__checkbox\")) {\n        changed();\n      } else {\n        expanded.value = !expanded.value;\n      }\n    } else {\n      changed();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.d-checkbox-card {\n  padding: 19px 16px;\n  position: relative;\n  border: 1px solid #e1e7ec;\n  border-radius: 8px;\n  background: white;\n  cursor: pointer;\n  .d-checkbox-card__expansion-border {\n    width: 100%;\n    height: 0.5px;\n    background: #e2e8f0;\n    margin: 16px 0;\n  }\n  .d-checkbox-card__icon {\n    border: 1px solid #e1e7ec;\n    display: flex;\n    min-height: 42px;\n    min-width: 42px;\n    padding: 12px;\n    aspect-ratio: 1 / 1;\n    border-radius: 8px;\n    align-items: center;\n    justify-content: center;\n  }\n}\n</style>\n"],"names":["useCheckbox","props","emit","computedValue","computed","computedTrueValue","this","computedFalseValue","isChecked","element","modelValue","value","expanded","ref","changed","handleClick","e"],"mappings":"8TAEO,MAAMA,GAAc,CAACC,EAAOC,IAAS,CAC1C,MAAMC,EAAgBC,EAAS,IAC7BH,EAAM,QAAU,GAAKA,EAAM,MAAQA,EAAM,KAC7C,EAEQI,EAAoBD,EAAS,IAC7BH,EAAM,MACDA,EAAM,MAENA,EAAM,YAAc,GAAO,GAAOK,WAAK,KAEjD,EAEKC,EAAqBH,EAAS,IAC3BH,EAAM,aAAe,GAAQ,GAAQA,EAAM,UACnD,EAEKO,EAAYJ,EAAS,IACrBH,EAAM,sBAAsB,MAC1BA,EAAM,OAAO,OACRA,EAAM,OAAO,MAAOQ,GAClBR,EAAM,WAAW,SAASQ,CAAO,CACzC,EAEIR,EAAM,WAAW,SAASE,EAAc,KAAK,EAE/CF,EAAM,aAAeI,EAAkB,KAC/C,EAwCD,MAAO,CAAE,UAAAG,EAAW,cAtCE,IAAM,CAC1B,GAAI,CAAAP,EAAM,SAGV,GAAIA,EAAM,OAAO,OAAQ,CACvB,IAAIS,EAAa,CAAC,GAAGT,EAAM,UAAU,EACjCO,EAAU,MACZP,EAAM,OAAO,QAASU,GAAU,CAC1BD,EAAW,SAASC,CAAK,GAC3BD,EAAW,OAAOA,EAAW,QAAQC,CAAK,EAAG,CAAC,CAE1D,CAAS,EAEDV,EAAM,OAAO,QAASU,GAAU,CACzBD,EAAW,SAASC,CAAK,GAC5BD,EAAW,KAAKC,CAAK,CAEjC,CAAS,EAEHT,EAAK,oBAAqBQ,CAAU,CAC1C,SACUT,EAAM,sBAAsB,MAAO,CACrC,IAAIS,EAAa,CAAC,GAAGT,EAAM,UAAU,EACjCO,EAAU,MACZE,EAAW,OAAOA,EAAW,QAAQP,EAAc,KAAK,EAAG,CAAC,EAE5DO,EAAW,KAAKP,EAAc,KAAK,EAErCD,EAAK,oBAAqBQ,CAAU,CAC5C,MACQR,EACE,oBACCM,EAAU,MAAkCD,EAAmB,MAA7CF,EAAkB,KAC/C,CAGA,EAGA,ofCfMO,EAAWC,GAAI,EAAK,EAqDpB,CAAE,UAAAL,EAAW,cAAeM,CAAO,EAAKd,GAAYC,EAAOC,CAAI,EAE/Da,EAAeC,GAAM,CACpBf,EAAM,WACLA,EAAM,WAEJe,EAAE,OAAO,QAAQ,4BAA4B,EAC/CF,IAEAF,EAAS,MAAQ,CAACA,EAAS,MAG7BE,IAGN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}